---
- name: Use Conditionals to Control Play Execution
  hosts: proxy
  gather_facts: no
  become: yes
  remote_user: automation
  tasks:
  - name: Set vm.swappiness to 5 in /etc/sysctl.conf
    sysctl:
      name: vm.swappiness
      value: '5'
      state: present
      when: "{{ ansible_facts.memory_mb.real.total }}" is gt 2048MB