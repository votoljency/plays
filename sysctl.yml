---
- name: Use Conditionals to Control Play Execution
  hosts: proxy
  gather_facts: yes
  become: yes
  remote_user: automation
  tasks:

  - name: 10 display setup variables
    debug:
      msg: "{{ ansible_facts.memory_mb.real.total }}"

  - name: Set vm.swappiness to 59 in /etc/sysctl.conf
    sysctl:
      name: vm.swappiness
      value: '59'
      state: present
    when: ansible_facts.memory_mb.real.total  is greaterthan 1975